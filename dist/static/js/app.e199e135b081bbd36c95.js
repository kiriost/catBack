webpackJsonp([1],{"+BTi":function(t,a){},"0gqb":function(t,a){},"8MZz":function(t,a){},E51W:function(t,a){},HVDk:function(t,a){},N3t7:function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});e("Yq4J"),e("+BTi");var o=e("qubY"),s=e.n(o),i=(e("X+ky"),e("HJMx")),n=e.n(i),l=(e("ylrw"),e("6oiW")),r=e.n(l),c=(e("RWjY"),e("aMwW")),u=e.n(c),h=(e("jAzQ"),e("wOhx")),d=e.n(h),m=e("7+uW"),b={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]},p=e("VU/8")({name:"app"},b,!1,function(t){e("Rj+v")},null,null).exports,_=e("/ocq"),v={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"layout"},[t._m(0),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"content-left"},[e("mu-list",{attrs:{value:t.activeList},on:{change:t.handleListChange}},[e("mu-list-item",{attrs:{title:"书籍管理",value:"list1",toggleNested:""}},[e("mu-icon",{attrs:{slot:"left",value:"book",color:"#009688"},slot:"left"}),t._v(" "),e("mu-list-item",{attrs:{slot:"nested",title:"书籍列表",value:"list2",to:"/bookList"},slot:"nested"}),t._v(" "),e("mu-list-item",{attrs:{slot:"nested",title:"章节列表",value:"list3",to:"/bookUpload/0"},slot:"nested"})],1),t._v(" "),e("mu-list-item",{attrs:{title:"功能管理",value:"list4",toggleNested:"",open:!1}},[e("mu-icon",{attrs:{slot:"left",value:"functions",color:"#009688"},slot:"left"}),t._v(" "),e("mu-list-item",{attrs:{slot:"nested",title:"排行管理",value:"list5",to:"sortManage"},slot:"nested"}),t._v(" "),e("mu-list-item",{attrs:{slot:"nested",title:"评论管理",value:"list6",to:"/commentManage"},slot:"nested"}),t._v(" "),e("mu-list-item",{attrs:{slot:"nested",title:"书籍统计",value:"list7",to:"/bookStatistic"},slot:"nested"})],1),t._v(" "),e("mu-list-item",{attrs:{title:"读者管理",value:"list8",toggleNested:"",open:!1}},[e("mu-icon",{attrs:{slot:"left",value:"supervisor_account",color:"#009688"},slot:"left"}),t._v(" "),e("mu-list-item",{attrs:{slot:"nested",title:"读者信息",value:"list9",to:"/readerData"},slot:"nested"})],1),t._v(" "),e("mu-list-item",{attrs:{title:"数据管理",value:"list10",toggleNested:"",open:!1}},[e("mu-icon",{attrs:{slot:"left",value:"data_usage",color:"#009688"},slot:"left"}),t._v(" "),e("mu-list-item",{attrs:{slot:"nested",title:"数据统计",value:"list11",to:"/dataShow"},slot:"nested"})],1),t._v(" "),e("mu-list-item",{attrs:{title:"账户管理",value:"list12",toggleNested:"",open:!1}},[e("mu-icon",{attrs:{slot:"left",value:"person",color:"#009688"},slot:"left"}),t._v(" "),e("mu-list-item",{attrs:{slot:"nested",title:"退出登录",value:"list13",to:"/login"},slot:"nested"})],1)],1)],1),t._v(" "),e("div",{staticClass:"content-right"},[e("div",{staticClass:"breadcrumb"}),t._v(" "),e("div",{staticClass:"body"},[e("router-view")],1)])]),t._v(" "),e("div",{staticClass:"footer"},[t._v("\n    猫阅读 ©2017 管理后台\n  ")])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"header"},[a("div",{staticClass:"logo"},[this._v("\n      猫阅读后台管理系统\n    ")])])}]},f=e("VU/8")({data:function(){return{activeTab:"tab1",activeList:"list2"}},methods:{handleTabChange:function(t){this.activeTab=t},handleListChange:function(t){this.activeList=t}}},v,!1,function(t){e("N3t7")},"data-v-76ff05bc",null).exports,k={data:function(){return{bookType:["仙剑","玄幻","悬疑","奇幻","军事","历史","竞技","科幻","校园","社会","其它"],searchTxt:"",tableData:[],height:"500px",total:50,current:1,controPageKind:1}},mounted:function(){this.reqAllBookInfo(this.current)},watch:{controPageKind:function(t){this.current=1}},methods:{handleClick:function(t){switch(this.controPageKind){case 1:this.reqAllBookInfo(t);break;case 2:this.distinctBookInfo(0,t);break;case 3:this.distinctBookInfo(1,t);break;case 4:this.searchBookInfo(this.searchTxt,t);break;default:console.log("出错")}},reqAllBookInfo:function(t){var a=this;this.controPageKind=1;var e=10*(t-1);axios({method:"POST",url:"./api/getBookInfo",data:{pageNumber:e}}).then(function(t){t=t.data,a.tableData=t.tableData,a.total=t.allPageNum[0].allNumber})},distinctBookInfo:function(t,a){var e=this;this.controPageKind=t?3:2;var o=10*(a-1);axios({method:"POST",url:"./api/distinctBookInfo",data:{is_show:t,pageNumber:o}}).then(function(t){t=t.data,e.tableData=t.tableData,e.total=t.allPageNum[0].allNumber})},searchBookInfo:function(t,a){var e=this;this.controPageKind=4;var o=10*(a-1);axios({method:"POST",url:"./api/searchBookInfo",data:{field:t,pageNumber:o}}).then(function(t){t=t.data,e.tableData=t.tableData,e.total=t.allPageNum[0].allNumber})},changeShow:function(t){var a=this,e=this.tableData[t].id,o=this.tableData[t].is_show;o=1==o?0:1,axios({method:"POST",url:"./api/changeShow",data:{id:e,is_show:o}}).then(function(e){(e=e.data).statue?a.tableData[t].is_show=!a.tableData[t].is_show:alert("改变上架状态失败")})},deleteBook:function(t){var a=this;confirm("即将删除书籍"+this.tableData[t].book_name+"及其所有章节，确认继续操作？")&&axios({method:"POST",url:"./api/deleteBook",data:{id:this.tableData[t].id}}).then(function(e){(e=e.data).statue?(alert("删除书籍"+a.tableData[t].book_name+"成功"),a.reqAllBookInfo(a.current)):alert("删除书籍"+a.tableData[t].book_name+"失败")})}}},g={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"listName"},[t._v("书籍列表")]),t._v(" "),e("div",{staticClass:"functionArea"},[e("mu-text-field",{staticClass:"searchTxted",attrs:{hintText:"请输入书籍名或作者名"},model:{value:t.searchTxt,callback:function(a){t.searchTxt=a},expression:"searchTxt"}}),t._v(" "),e("mu-raised-button",{staticClass:"demo-raised-button",attrs:{label:"查询",backgroundColor:"#00bfa5"},on:{click:function(a){t.searchBookInfo(t.searchTxt,t.current)}}}),t._v(" "),e("mu-raised-button",{staticClass:"demo-raised-button",attrs:{label:"已上架",backgroundColor:"#ffca28"},on:{click:function(a){t.distinctBookInfo(1,t.current)}}}),t._v(" "),e("mu-raised-button",{staticClass:"demo-raised-button",attrs:{label:"未上架",backgroundColor:"#ffc107"},on:{click:function(a){t.distinctBookInfo(0,t.current)}}}),t._v(" "),e("mu-raised-button",{staticClass:"demo-raised-button",attrs:{label:"全部",backgroundColor:"#ff9800"},on:{click:function(a){t.reqAllBookInfo(t.current)}}}),t._v(" "),e("mu-raised-button",{staticClass:"demo-raised-button",attrs:{label:"上传书籍",backgroundColor:"#ff5722"},on:{click:function(a){t.$router.push("/bookDetails/0")}}})],1),t._v(" "),e("div",{staticClass:"Booktable"},[e("mu-table",{attrs:{fixedFooter:!1,fixedHeader:!0,height:t.height,enableSelectAll:!1,multiSelectable:!1,selectable:!1,showCheckbox:!1}},[e("mu-thead",{attrs:{slot:"header"},slot:"header"},[e("mu-tr",[e("mu-th",{attrs:{tooltip:"ID"}},[t._v("ID")]),t._v(" "),e("mu-th",{attrs:{tooltip:"书名"}},[t._v("书名")]),t._v(" "),e("mu-th",{attrs:{tooltip:"作者"}},[t._v("作者")]),t._v(" "),e("mu-th",{attrs:{tooltip:"封面"}},[t._v("封面")]),t._v(" "),e("mu-th",{attrs:{tooltip:"类型"}},[t._v("类型")]),t._v(" "),e("mu-th",{attrs:{tooltip:"简介"}},[t._v("简介")]),t._v(" "),e("mu-th",{attrs:{tooltip:"状态"}},[t._v("状态")]),t._v(" "),e("mu-th",{attrs:{tooltip:"操作"}},[t._v("操作")]),t._v(" "),e("mu-th",{attrs:{tooltip:"删除"}},[t._v("删除")])],1)],1),t._v(" "),e("mu-tbody",t._l(t.tableData,function(a,o){return e("mu-tr",{key:o,attrs:{selected:a.selected}},[e("mu-td",[t._v(t._s(o+1))]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[e("a",{attrs:{href:"#/bookDetails/"+a.id}},[t._v(t._s(a.book_name))])]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[t._v(t._s(a.author))]),t._v(" "),e("mu-td",[e("img",{staticStyle:{width:"40px","vertical-align":"middle"},attrs:{src:"http://read.beluga.ai/api/static/images/cover/"+a.cover}})]),t._v(" "),e("mu-td",[t._v(t._s(t.bookType[a.book_type]))]),t._v(" "),e("mu-td",{staticStyle:{overflow:"hidden"}},[e("el-tooltip",{attrs:{placement:"top"}},[e("div",{staticStyle:{width:"260px"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(a.book_describe))]),t._v(" "),e("p",{staticStyle:{color:"#ff4081"}},[t._v("查看内容")])])],1),t._v(" "),e("mu-td",[t._v(t._s(a.is_show?"已上架":"未上架"))]),t._v(" "),e("mu-td",[e("button",{staticClass:"bookListButton",on:{click:function(a){t.changeShow(o)}}},[t._v(t._s(a.is_show?"下架":"上架"))])]),t._v(" "),e("mu-td",[e("button",{staticClass:"bookListButton",on:{click:function(a){t.deleteBook(o)}}},[t._v("删除")])])],1)}))],1),t._v(" "),e("mu-pagination",{staticStyle:{"padding-bottom":"20px"},attrs:{total:t.total,current:t.current},on:{pageChange:t.handleClick}})],1)])},staticRenderFns:[]},C=e("VU/8")(k,g,!1,function(t){e("jpBv")},null,null).exports,x={data:function(){return{bookType:["仙剑","玄幻","悬疑","奇幻","军事","历史","竞技","科幻","校园","社会","其它"],searchTxt:"",tableData:[""],height:"500px",total:50,current:1,controPageKind:1,moneyNum:[],bookId:0}},mounted:function(){this.bookId=parseInt(this.$route.params.bookId),this.reqChapterInfo(this.current,"",this.bookId)},watch:{controPageKind:function(t){this.current=1}},methods:{handleClick:function(t){switch(this.moneyNum=[],this.controPageKind){case 1:this.reqChapterInfo(t,"",this.bookId);break;case 2:this.distinctChapterInfo(0,t,this.bookId);break;case 3:this.distinctChapterInfo(1,t,this.bookId);break;case 4:this.searchBookInfo(this.searchTxt,t,this.bookId);break;default:console.log("出错")}},reqChapterInfo:function(t,a,e){var o=this;this.controPageKind=1;var s=10*(t-1);axios({method:"POST",url:"./api/reqChapterInfo",data:{pageNumber:s,searchTxt:a,bookId:e}}).then(function(t){t=t.data,o.total=t.allPageNum[0].allNumber;for(var a=0;a<t.tableData.length;a++)t.tableData[a].chapter_type?o.moneyNum[a]=t.tableData[a].chapter_money:o.moneyNum[a]="";o.tableData=t.tableData})},distinctChapterInfo:function(t,a,e){var o=this;this.controPageKind=t?3:2;var s=10*(a-1);axios({method:"POST",url:"./api/distinctChapterInfo",data:{chapter_type:t,pageNumber:s,bookId:e}}).then(function(t){console.log(t.data),t=t.data,o.tableData=t.tableData;for(var a=0;a<t.tableData.length;a++)t.tableData[a].chapter_type?o.moneyNum[a]=t.tableData[a].chapter_money:o.moneyNum[a]="";o.total=t.allPageNum[0].allNumber})},searchBookInfo:function(t,a){this.controPageKind=4,this.reqChapterInfo(a,t,this.bookId)},setChapterMoney:function(t){if(1==this.tableData[t].chapter_type)this.reqSetChapterMoney(0,0,t);else if(""!=this.moneyNum[t]){var a=parseInt(this.moneyNum[t]);this.reqSetChapterMoney(1,a,t)}else alert("请输入金额")},reqSetChapterMoney:function(t,a,e){var o=this;axios({method:"POST",url:"./api/setChapterMoney",data:{chapter_type:t,chapter_money:a,id:this.tableData[e].allChapterId}}).then(function(t){console.log(t.data),(t=t.data).statue&&(1==o.tableData[e].chapter_type?(o.tableData[e].chapter_type=0,o.moneyNum[e]=""):o.tableData[e].chapter_type=1)})},uploadChapter:function(){0==this.bookId?alert("请先选择书籍"):this.$router.push("/chapterContant/"+this.bookId+"/0")},deleteChapter:function(t){var a=this;confirm("即将删除章节"+this.tableData[t].chapter_name+"，确认继续操作？")&&axios({method:"POST",url:"./api/deleteChapter",data:{id:this.tableData[t].allChapterId}}).then(function(e){(e=e.data).statue?(alert("删除章节"+a.tableData[t].chapter_name+"成功"),a.reqChapterInfo(a.current,a.searchTxt,a.bookId)):alert("删除章节"+a.tableData[t].chapter_name+"失败")})},getNowTime:function(){var t=new Date,a=t.getMonth()+1,e=t.getDate();a>=1&&a<=9&&(a="0"+a),e>=0&&e<=9&&(e="0"+e);return t.getFullYear()+"-"+a+"-"+e+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},uploadAll:function(t){if(0!=this.bookId){var a=t.target.files[0],e=new FileReader,o=[],s=this,i=0;this.tableData.length>0&&(i=this.tableData[this.tableData.length-1].chapter_id),e.readAsText(a,"gb2312"),e.onload=function(t){for(var a=t.target.result.split(/第\S*章\s/),e=1;e<a.length;e++){var n=[],l=a[e].split("\n")[0],r=a[e].split(l)[1];n.push(s.bookId),n.push(i+e),n.push(l),n.push(r),n.push(r.length),n.push(s.getNowTime()),o.push(n)}axios({method:"POST",url:"./api/insertManyChapter",data:{resultInfo:o}}).then(function(t){(t=t.data).statue&&(s.reqChapterInfo(s.current,"",s.bookId),alert(s.tableData[0].book_name+o.length+"个章节批量上传成功"))})}}else alert("请先选择书籍")}}},y={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"listName"},[t._v("章节列表")]),t._v(" "),e("div",{staticClass:"functionArea"},[e("mu-text-field",{staticClass:"searchTxt",attrs:{hintText:"请输入章节名"},model:{value:t.searchTxt,callback:function(a){t.searchTxt=a},expression:"searchTxt"}}),t._v(" "),e("mu-raised-button",{staticClass:"bookUploadButton",attrs:{label:"查询",backgroundColor:"#00bfa5"},on:{click:function(a){t.searchBookInfo(t.searchTxt,t.current)}}}),t._v(" "),e("mu-raised-button",{staticClass:"bookUploadButton",attrs:{label:"免费",backgroundColor:"#ffca28"},on:{click:function(a){t.distinctChapterInfo(0,t.current,t.bookId)}}}),t._v(" "),e("mu-raised-button",{staticClass:"bookUploadButton",attrs:{label:"付费",backgroundColor:"#ffc107"},on:{click:function(a){t.distinctChapterInfo(1,t.current,t.bookId)}}}),t._v(" "),e("mu-raised-button",{staticClass:"bookUploadButton",attrs:{label:"全部",backgroundColor:"#ff9800"},on:{click:function(a){t.reqChapterInfo(1,"",t.bookId)}}}),t._v(" "),e("mu-raised-button",{staticClass:"bookUploadButton",attrs:{label:"单章上传",backgroundColor:"#ff5722"},on:{click:function(a){t.uploadChapter()}}}),t._v(" "),e("mu-raised-button",{staticClass:"bookUploadButton uploadManyButton",attrs:{label:"批量上传",backgroundColor:"#ff5722"}},[e("input",{staticClass:"uploadManyInput",attrs:{type:"file",id:"input"},on:{change:function(a){t.uploadAll(a)}}})])],1),t._v(" "),e("div",{staticClass:"Booktable"},[e("mu-table",{attrs:{fixedFooter:!1,fixedHeader:!0,height:t.height,enableSelectAll:!1,multiSelectable:!1,selectable:!1,showCheckbox:!1}},[e("mu-thead",{attrs:{slot:"header"},slot:"header"},[e("mu-tr",[e("mu-th",{attrs:{tooltip:"ID"}},[t._v("ID")]),t._v(" "),e("mu-th",{attrs:{tooltip:"书名"}},[t._v("书名")]),t._v(" "),e("mu-th",{attrs:{tooltip:"作者"}},[t._v("作者")]),t._v(" "),e("mu-th",{attrs:{tooltip:"类型"}},[t._v("类型")]),t._v(" "),e("mu-th",{attrs:{tooltip:"章节"}},[t._v("章节")]),t._v(" "),e("mu-th",{attrs:{tooltip:"状态"}},[t._v("状态")]),t._v(" "),e("mu-th",{attrs:{tooltip:"定价"}},[t._v("定价")]),t._v(" "),e("mu-th",{attrs:{tooltip:"操作"}},[t._v("操作")]),t._v(" "),e("mu-th",{attrs:{tooltip:"操作"}},[t._v("删除")])],1)],1),t._v(" "),e("mu-tbody",t._l(t.tableData,function(a,o){return e("mu-tr",{key:o,attrs:{selected:a.selected}},[e("mu-td",[t._v(t._s(o+1))]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[e("a",{attrs:{href:"#/bookDetails/"+a.book_id}},[t._v(t._s(a.book_name))])]),t._v(" "),e("mu-td",[t._v(t._s(a.author))]),t._v(" "),e("mu-td",[t._v(t._s(t.bookType[a.book_type]))]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[e("a",{attrs:{href:"#/chapterContant/"+a.book_id+"/"+a.chapter_id}},[t._v("第"+t._s(a.chapter_id)+"章 "+t._s(a.chapter_name))])]),t._v(" "),e("mu-td",[t._v(t._s(a.chapter_type?"付费":"免费"))]),t._v(" "),e("mu-td",[e("mu-text-field",{staticClass:"searchTxt",staticStyle:{"font-size":"10px",width:"50px"},attrs:{hintText:"猫币",type:"number",disabled:!!a.chapter_type},model:{value:t.moneyNum[o],callback:function(a){t.$set(t.moneyNum,o,a)},expression:"moneyNum[index]"}})],1),t._v(" "),e("mu-td",[e("button",{staticClass:"comment",on:{click:function(a){t.setChapterMoney(o)}}},[t._v(t._s(a.chapter_type?"免费":"付费"))])]),t._v(" "),e("mu-td",[e("button",{staticClass:"comment",on:{click:function(a){t.deleteChapter(o)}}},[t._v("删除")])])],1)}))],1),t._v(" "),e("mu-pagination",{staticStyle:{"padding-bottom":"20px"},attrs:{total:t.total,current:t.current},on:{pageChange:t.handleClick}})],1)])},staticRenderFns:[]},D=e("VU/8")(x,y,!1,function(t){e("g20g")},null,null).exports,T={data:function(){return{bookType:["仙剑","玄幻","悬疑","奇幻","军事","历史","竞技","科幻","校园","社会","其它"],searchTxt:"",tableData:[],height:"500px",total:50,current:1,controPageKind:1}},mounted:function(){this.reqAllBookStatistic(this.current,"")},methods:{handleClick:function(t){this.reqAllBookStatistic(t,this.searchTxt)},reqAllBookStatistic:function(t,a){var e=this;this.controPageKind=1;var o=10*(t-1);axios({method:"POST",url:"./api/reqAllBookStatistic",data:{pageNumber:o,searchTxt:a}}).then(function(t){console.log(t.data),t=t.data,e.tableData=t.tableData,e.total=t.allPageNum[0].allNumber})},allInfo:function(){this.searchTxt="",this.current=1,this.reqAllBookStatistic(1,"")}}},I={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"listName"},[t._v("书籍统计")]),t._v(" "),e("div",{staticClass:"functionArea"},[e("mu-text-field",{staticClass:"searchTxted",attrs:{hintText:"请输入书籍名或作者名"},model:{value:t.searchTxt,callback:function(a){t.searchTxt=a},expression:"searchTxt"}}),t._v(" "),e("mu-raised-button",{staticClass:"demo-raised-button",attrs:{label:"查询",backgroundColor:"#00bfa5"},on:{click:function(a){t.reqAllBookStatistic(t.current,t.searchTxt)}}}),t._v(" "),e("mu-raised-button",{staticClass:"demo-raised-button",attrs:{label:"全部",backgroundColor:"#ff9800"},on:{click:function(a){t.allInfo()}}})],1),t._v(" "),e("div",{staticClass:"Booktable"},[e("mu-table",{attrs:{fixedFooter:!1,fixedHeader:!0,height:t.height,enableSelectAll:!1,multiSelectable:!1,selectable:!1,showCheckbox:!1}},[e("mu-thead",{attrs:{slot:"header"},slot:"header"},[e("mu-tr",[e("mu-th",{attrs:{tooltip:"ID"}},[t._v("ID")]),t._v(" "),e("mu-th",{attrs:{tooltip:"书名"}},[t._v("书名")]),t._v(" "),e("mu-th",{attrs:{tooltip:"作者"}},[t._v("作者")]),t._v(" "),e("mu-th",{attrs:{tooltip:"类型"}},[t._v("类型")]),t._v(" "),e("mu-th",{attrs:{tooltip:"追书量"}},[t._v("追书量")]),t._v(" "),e("mu-th",{attrs:{tooltip:""}},[t._v("点击量")]),t._v(" "),e("mu-th",{attrs:{tooltip:"打赏量"}},[t._v("打赏量")]),t._v(" "),e("mu-th",{attrs:{tooltip:"订阅量"}},[t._v("订阅量")])],1)],1),t._v(" "),e("mu-tbody",t._l(t.tableData,function(a,o){return e("mu-tr",{key:o,attrs:{selected:a.selected}},[e("mu-td",[t._v(t._s(o+1))]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[t._v(t._s(a.book_name))]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[t._v(t._s(a.author))]),t._v(" "),e("mu-td",[t._v(t._s(t.bookType[a.book_type]))]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[t._v(t._s(a.chase_book_num))]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[t._v(t._s(a.click_num))]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[t._v(t._s(a.reward_num))]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[t._v(t._s(a.subscriber_num))])],1)}))],1),t._v(" "),e("mu-pagination",{staticStyle:{"padding-bottom":"20px"},attrs:{total:t.total,current:t.current},on:{pageChange:t.handleClick}})],1)])},staticRenderFns:[]},S=e("VU/8")(T,I,!1,function(t){e("0gqb")},null,null).exports,w={data:function(){return{bookType:["仙剑","玄幻","悬疑","奇幻","军事","历史","竞技","科幻","校园","社会","其它"],searchTxt:"",tableData:[""],height:"500px",total:50,current:1,controPageKind:1}},mounted:function(){this.reqComment(this.current,"")},methods:{handleClick:function(t){this.reqComment(t,this.searchTxt)},reqComment:function(t,a){var e=this;this.controPageKind=1;var o=10*(t-1);axios({method:"POST",url:"./api/reqComment",data:{pageNumber:o,searchTxt:a}}).then(function(t){console.log(t.data.tableData),t=t.data,e.tableData=t.tableData,e.total=t.allPageNum[0].allNumber})},allInfo:function(){this.searchTxt="",this.current=1,this.reqComment(1,"")},makeTop:function(t){var a=this,e=this.tableData[t].id,o=this.tableData[t].comment_type;o=1==o?0:1,axios({method:"POST",url:"./api/updateTop",data:{id:e,type:o}}).then(function(e){(e=e.data).statue?1==a.tableData[t].comment_type?a.tableData[t].comment_type=0:a.tableData[t].comment_type=1:alert("置顶操作失败")})},deleteComment:function(t){var a=this,e=this.tableData[t].id;confirm("确定删除评论？")&&axios({method:"POST",url:"./api/deleteComment",data:{id:e}}).then(function(t){(t=t.data).statue?a.reqComment(a.current,a.searchTxt):alert("删除操作失败")})}}},B={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"listName"},[t._v("评论管理")]),t._v(" "),e("div",{staticClass:"functionArea"},[e("mu-text-field",{staticClass:"searchTxted",attrs:{hintText:"请输入书籍名或作者名"},model:{value:t.searchTxt,callback:function(a){t.searchTxt=a},expression:"searchTxt"}}),t._v(" "),e("mu-raised-button",{staticClass:"demo-raised-button",attrs:{label:"查询",backgroundColor:"#00bfa5"},on:{click:function(a){t.reqComment(t.current,t.searchTxt)}}}),t._v(" "),e("mu-raised-button",{staticClass:"demo-raised-button",attrs:{label:"全部",backgroundColor:"#ff9800"},on:{click:function(a){t.allInfo()}}})],1),t._v(" "),e("div",{staticClass:"Booktable"},[e("mu-table",{attrs:{fixedFooter:!1,fixedHeader:!0,height:t.height,enableSelectAll:!1,multiSelectable:!1,selectable:!1,showCheckbox:!1}},[e("mu-thead",{attrs:{slot:"header"},slot:"header"},[e("mu-tr",[e("mu-th",{attrs:{tooltip:"ID"}},[t._v("ID")]),t._v(" "),e("mu-th",{attrs:{tooltip:"书名"}},[t._v("书名")]),t._v(" "),e("mu-th",{attrs:{tooltip:"作者"}},[t._v("作者")]),t._v(" "),e("mu-th",{attrs:{tooltip:"类型"}},[t._v("类型")]),t._v(" "),e("mu-th",{attrs:{tooltip:"评论"}},[t._v("评论")]),t._v(" "),e("mu-th",{attrs:{tooltip:"用户"}},[t._v("用户")]),t._v(" "),e("mu-th",{attrs:{tooltip:"置顶"}},[t._v("置顶")]),t._v(" "),e("mu-th",{attrs:{tooltip:"删除"}},[t._v("删除")])],1)],1),t._v(" "),e("mu-tbody",t._l(t.tableData,function(a,o){return e("mu-tr",{key:o,attrs:{selected:a.selected}},[e("mu-td",[t._v(t._s(o+1))]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[t._v(t._s(a.book_name))]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[t._v(t._s(a.author))]),t._v(" "),e("mu-td",[t._v(t._s(t.bookType[a.book_type]))]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[t._v(t._s(a.user_name))]),t._v(" "),e("mu-td",{staticStyle:{overflow:"hidden"}},[e("el-tooltip",{attrs:{placement:"top"}},[e("div",{staticStyle:{width:"260px"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(a.comment_content))]),t._v(" "),e("p",{staticStyle:{color:"#ff4081"}},[t._v("查看评论")])])],1),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[e("button",{staticClass:"comment",attrs:{backgroundColor:"#ff9800"},on:{click:function(a){t.makeTop(o)}}},[t._v(t._s(1==a.comment_type?"取消":"置顶"))])]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[e("button",{staticClass:"comment",attrs:{backgroundColor:"#ff9800"},on:{click:function(a){t.deleteComment(o)}}},[t._v("删除")])])],1)}))],1),t._v(" "),e("mu-pagination",{staticStyle:{"padding-bottom":"20px"},attrs:{total:t.total,current:t.current},on:{pageChange:t.handleClick}})],1)])},staticRenderFns:[]},N=e("VU/8")(w,B,!1,function(t){e("Y1pN")},null,null).exports,P={data:function(){return{searchTxt:"",tableData:[""],height:"500px",total:50,current:1,controPageKind:1,dialogSubscribe:!1,listData:[],listTotal:10,listCurrent:1,userId:""}},mounted:function(){this.reqUser(this.current,"")},methods:{handleClick:function(t){this.reqUser(t,this.searchTxt)},reqUser:function(t,a){var e=this;this.controPageKind=1;var o=10*(t-1);axios({method:"POST",url:"./api/reqUser",data:{pageNumber:o,searchTxt:a}}).then(function(t){t=t.data,e.tableData=t.tableData,e.total=t.allPageNum[0].allNumber})},allInfo:function(){this.searchTxt="",this.current=1,this.reqUser(1,"")},reqUserSubscribe:function(t,a){var e=this,o=10*(t-1);axios({method:"POST",url:"./api/reqUserSubscribe",data:{pageNumber:o,userId:a}}).then(function(t){t=t.data,e.listData=t.tableData,e.listTotal=t.allPageNum[0].allNumber})},searchSubscribe:function(t){this.userId=this.tableData[t].id,this.dialogSubscribe=!0,this.listCurrent=1,this.reqUserSubscribe(this.listCurrent,this.userId)},deleteUser:function(t){var a=this;confirm("确认删除此用户？")&&(this.userId=this.tableData[t].id,axios({method:"POST",url:"./api/deleteUser",data:{id:this.userId}}).then(function(t){console.log(t.data),(t=t.data).statue&&a.reqUser(a.current,"")}))},listHandleClick:function(t){this.reqUserSubscribe(t,this.userId)}}},L={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"listName"},[t._v("读者信息")]),t._v(" "),e("div",{staticClass:"functionArea"},[e("mu-text-field",{staticClass:"searchTxted",attrs:{hintText:"请输入读者名"},model:{value:t.searchTxt,callback:function(a){t.searchTxt=a},expression:"searchTxt"}}),t._v(" "),e("mu-raised-button",{staticClass:"demo-raised-button",attrs:{label:"查询",backgroundColor:"#00bfa5"},on:{click:function(a){t.reqUser(t.current,t.searchTxt)}}}),t._v(" "),e("mu-raised-button",{staticClass:"demo-raised-button",attrs:{label:"全部",backgroundColor:"#ff9800"},on:{click:function(a){t.allInfo()}}})],1),t._v(" "),e("div",{staticClass:"Booktable"},[e("mu-table",{attrs:{fixedFooter:!1,fixedHeader:!0,height:t.height,enableSelectAll:!1,multiSelectable:!1,selectable:!1,showCheckbox:!1}},[e("mu-thead",{attrs:{slot:"header"},slot:"header"},[e("mu-tr",[e("mu-th",{attrs:{tooltip:"ID"}},[t._v("ID")]),t._v(" "),e("mu-th",{attrs:{tooltip:"昵称"}},[t._v("昵称")]),t._v(" "),e("mu-th",{attrs:{tooltip:"手机"}},[t._v("手机")]),t._v(" "),e("mu-th",{attrs:{tooltip:"余额"}},[t._v("余额")]),t._v(" "),e("mu-th",{attrs:{tooltip:"推荐票"}},[t._v("推荐票")]),t._v(" "),e("mu-th",{attrs:{tooltip:"钻石票"}},[t._v("钻石票")]),t._v(" "),e("mu-th",{attrs:{tooltip:"订阅"}},[t._v("订阅")]),t._v(" "),e("mu-th",{attrs:{tooltip:"删除"}},[t._v("删除")])],1)],1),t._v(" "),e("mu-tbody",t._l(t.tableData,function(a,o){return e("mu-tr",{key:o,attrs:{selected:a.selected}},[e("mu-td",[t._v(t._s(a.id))]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[t._v(t._s(a.user_name))]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[t._v(t._s(a.phone))]),t._v(" "),e("mu-td",[t._v(t._s(a.balance))]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[t._v(t._s(a.recommend_ticket_num))]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal",overflow:"hidden"}},[t._v(t._s(a.diamond_ticket_num))]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[e("button",{staticClass:"comment",attrs:{backgroundColor:"#ff9800"},on:{click:function(a){t.searchSubscribe(o)}}},[t._v("查看")])]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[e("button",{staticClass:"comment",attrs:{backgroundColor:"#ff9800"},on:{click:function(a){t.deleteUser(o)}}},[t._v("删除")])])],1)}))],1),t._v(" "),e("mu-pagination",{staticStyle:{"padding-bottom":"20px"},attrs:{total:t.total,current:t.current},on:{pageChange:t.handleClick}})],1),t._v(" "),e("mu-dialog",{attrs:{open:t.dialogSubscribe,title:"追书"},on:{close:function(a){t.dialogSubscribe=!1}}},[e("mu-list",t._l(t.listData,function(a,o){return e("mu-list-item",{attrs:{title:a.book_name}},[e("div",{staticStyle:{"font-size":"10px"},attrs:{slot:"right"},slot:"right"},[t._v(t._s(a.author))])])})),t._v(" "),e("mu-pagination",{staticStyle:{"padding-bottom":"20px"},attrs:{total:t.listTotal,current:t.listCurrent},on:{pageChange:t.listHandleClick}}),t._v(" "),e("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"返回"},on:{click:function(a){t.dialogSubscribe=!1}},slot:"actions"})],1)],1)},staticRenderFns:[]},q=e("VU/8")(P,L,!1,function(t){e("8MZz")},null,null).exports,U={data:function(){return{thisBookType:0,bookType:["仙剑","玄幻","悬疑","奇幻","军事","历史","竞技","科幻","校园","社会","其它"],imageUrl:"http://read.beluga.ai/api/static/images/cover/cover-2.jpeg",bookId:0,book_name:"",author:"",describe:""}},mounted:function(){this.bookId=parseInt(this.$route.params.bookId),0!=this.bookId&&this.reqBookDetails(this.bookId)},methods:{handleAvatarSuccess:function(t,a){this.imageUrl=URL.createObjectURL(a.raw)},beforeAvatarUpload:function(t){var a="image/jpeg"===t.type,e=t.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG 格式!"),e||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&e},reqBookDetails:function(t){var a=this;console.log(t),axios({method:"POST",url:"./api/reqBookDetails",data:{id:t}}).then(function(t){console.log(t.data),t=t.data.resultData[0],a.book_name=t.book_name,a.author=t.author,a.describe=t.book_describe,a.imageUrl="http://read.beluga.ai/api/static/images/cover/"+t.cover,a.thisBookType=t.book_type})},updateBookDetails:function(t,a){axios({method:"POST",url:"./api/updateBookDetails",data:{id:a,info:t}}).then(function(t){(t=t.data).statue&&alert("更新成功")})},insertBookDetails:function(t){var a=this;axios({method:"POST",url:"./api/insertBookDetails",data:{info:t}}).then(function(t){console.log(t.data),t=t.data,a.bookId=t.id,alert("上传"+a.book_name+"成功"),a.$router.push("/bookDetails/"+t.id)})},useBookDetails:function(){if(this.imageUrl&&this.book_name&&this.author&&this.describe){var t={};t.book_name=this.book_name,t.author=this.author,t.describe=this.describe,t.cover=this.imageUrl.split("/").pop(),t.book_type=this.thisBookType,0==this.bookId?this.insertBookDetails(t):this.updateBookDetails(t,this.bookId)}else alert("请填写完整信息后上传")},goChapter:function(){this.bookId?this.$router.push("/bookUpload/"+this.bookId):alert("请先创建书籍")}}},O={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h4",{staticClass:"pageTitle"},[t._v("书籍详情")]),t._v(" "),e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?e("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t._v(" "),e("mu-text-field",{attrs:{hintText:"请输入书名"},model:{value:t.book_name,callback:function(a){t.book_name=a},expression:"book_name"}}),e("br"),t._v(" "),e("mu-text-field",{attrs:{hintText:"请输入作者"},model:{value:t.author,callback:function(a){t.author=a},expression:"author"}}),e("br"),t._v(" "),e("mu-text-field",{attrs:{hintText:"请输入书籍简介",multiLine:"",rows:3,rowsMax:6},model:{value:t.describe,callback:function(a){t.describe=a},expression:"describe"}}),e("br"),t._v(" "),e("mu-select-field",{attrs:{labelFocusClass:["label-foucs"],label:"选择书籍类型"},model:{value:t.thisBookType,callback:function(a){t.thisBookType=a},expression:"thisBookType"}},t._l(t.bookType,function(t,a){return e("mu-menu-item",{key:a,attrs:{value:a,title:t}})})),t._v(" "),e("br"),t._v(" "),e("mu-raised-button",{staticClass:"demo-raised-button detailsButton",attrs:{label:"上传",primary:""},on:{click:function(a){t.useBookDetails()}}}),t._v(" "),e("mu-raised-button",{staticClass:"demo-raised-button detailsButton",attrs:{label:"查看章节",primary:""},on:{click:function(a){t.goChapter()}}})],1)},staticRenderFns:[]},A=e("VU/8")(U,O,!1,function(t){e("HVDk")},null,null).exports,R={data:function(){return{chapterName:"",chapterContant:"",chapterId:"",bookId:""}},mounted:function(){this.bookId=parseInt(this.$route.params.bookId),this.chapterId=parseInt(this.$route.params.chapterId),this.chapterId?this.reqChapterContant():this.redAndSetChapterId()},methods:{redAndSetChapterId:function(){var t=this;axios({method:"POST",url:"./api/reqChapterId",data:{bookId:this.bookId}}).then(function(a){(a=a.data).chapter_id?t.chapterId=a.chapter_id+1:t.chapterId=1,console.log("chapter_id",t.chapterId)})},getNowTime:function(){var t=new Date,a=t.getMonth()+1,e=t.getDate();a>=1&&a<=9&&(a="0"+a),e>=0&&e<=9&&(e="0"+e);return t.getFullYear()+"-"+a+"-"+e+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},insertChapterContant:function(){var t=this;this.chapterName&&this.chapterContant?axios({method:"POST",url:"./api/insertChapterContant",data:{bookId:this.bookId,chapterId:this.chapterId,chapterName:this.chapterName,chapterContant:this.chapterContant,wordNumber:this.chapterContant.length,updateDate:this.getNowTime()}}).then(function(a){(a=a.data).statue&&(alert("上传 第"+t.chapterId+"章 "+t.chapterName+" 成功"),t.chapterId+=1,t.chapterName="",t.chapterContant="")}):alert("请输入完整内容")},reqChapterContant:function(){var t=this;axios({method:"POST",url:"./api/reqChapterContant",data:{bookId:this.bookId,chapterId:this.chapterId}}).then(function(a){(a=a.data.data)?(t.chapterName=a.chapter_name,t.chapterContant=a.chapter_content):(alert("该章节不存在, 即将跳转上传章节页"),t.$router.push("/chapterContant/"+t.bookId+"/0"))})},updateChapterContent:function(){var t=this;axios({method:"POST",url:"./api/updateChapterContent",data:{bookId:this.bookId,chapterId:this.chapterId,chapterName:this.chapterName,chapterContant:this.chapterContant,wordNumber:this.chapterContant.length,updateDate:this.getNowTime()}}).then(function(a){(a=a.data).statue&&alert("更新 第"+t.chapterId+"章 "+t.chapterName+" 成功")})},saveContent:function(){0==parseInt(this.$route.params.chapterId)?this.insertChapterContant():this.updateChapterContent()}}},$={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"contant"},[e("div",{staticClass:"contantName"},[t._v("章节内容")]),t._v(" "),e("el-input",{staticClass:"chapterName",attrs:{placeholder:"请输入章节标题"},model:{value:t.chapterName,callback:function(a){t.chapterName=a},expression:"chapterName"}}),t._v(" "),e("el-input",{attrs:{type:"textarea",rows:20,placeholder:"请输入章节内容"},model:{value:t.chapterContant,callback:function(a){t.chapterContant=a},expression:"chapterContant"}}),t._v(" "),e("mu-raised-button",{staticClass:"demo-raised-button insertChapterContant",attrs:{label:"保存章节",primary:""},on:{click:function(a){t.saveContent()}}}),t._v(" "),e("mu-raised-button",{staticClass:"demo-raised-button insertChapterContant",attrs:{label:"书籍目录",primary:""},on:{click:function(a){t.$router.push("/bookUpload/"+t.bookId)}}})],1)},staticRenderFns:[]},M=e("VU/8")(R,$,!1,function(t){e("y6Ab")},null,null).exports,F={data:function(){return{link:"/bookList",admin_no:"",admin_pw:""}},mounted:function(){this.sessionSetter("login","error"),this.sessionSetter("manage","error")},methods:{login:function(){"admin"==this.admin_no&&"123456"==this.admin_pw?(this.sessionSetter("login","haveLogin"),this.$router.push("/bookList")):alert("账户或密码错误")},handleTabChange:function(t){this.activeTab=t},sessionGetter:function(t){return sessionStorage.getItem("html5_test_"+t)},sessionSetter:function(t,a){sessionStorage.setItem("html5_test_"+t,a)}}},K={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"layout"},[t._m(0),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"body"},[e("div",{staticStyle:{"padding-top":"80px"}},[e("mu-text-field",{attrs:{label:"账号",labelFloat:""},model:{value:t.admin_no,callback:function(a){t.admin_no=a},expression:"admin_no"}}),e("br"),t._v(" "),e("mu-text-field",{attrs:{label:"密码",hintText:"请输入密码",type:"password",labelFloa:""},model:{value:t.admin_pw,callback:function(a){t.admin_pw=a},expression:"admin_pw"}}),e("br"),t._v(" "),e("mu-raised-button",{staticClass:"demo-raised-button",staticStyle:{"margin-top":"40px"},attrs:{label:"登 陆",primary:"",to:t.link},on:{click:t.login}}),e("br")],1)])]),t._v(" "),e("div",{staticClass:"footer"},[t._v("\n    猫阅读 ©2017 管理后台\n  ")])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"header"},[a("div",{staticClass:"logo"},[this._v("\n      猫阅读后台登陆\n    ")])])}]},E=e("VU/8")(F,K,!1,function(t){e("TWiG")},"data-v-1e533b58",null).exports,V={data:function(){return{bookType:["仙剑","玄幻","悬疑","奇幻","军事","历史","竞技","科幻","校园","社会","其它"],searchTxt:"",tableDataTop:[],tableDataList:[],tableData:[],height:"500px",total:50,current:1,controPageKind:1,selectList:0,listContent:["新书立捧","新书上架","免费书籍","精品书籍","热门书籍"],bookIdList:"",bookContantList:[]}},mounted:function(){this.getOnRack(this.selectList)},watch:{selectList:function(t){this.current=1,this.getOnRack(t)}},methods:{onRack:function(t){var a={},e="";e=this.tableData[t],this.tableData[t]=this.tableDataList[this.tableDataList.length];for(var o=this.tableDataList.length-1;o>0;o--)this.tableDataList[o]=this.tableDataList[o-1];if(this.tableDataList[0]=this.tableDataTop[0],this.tableDataTop[0]=e,0==this.selectList){a.book_items=[],a.book_items.push(this.tableDataTop[0]);for(o=0;o<this.tableDataList.length;o++)a.book_items.push(this.tableDataList[o])}else a.top_book=this.tableDataTop[0],a.book_items=this.tableDataList;console.log(a),console.log(this.tableDataTop),this.sendList(a)},underRack:function(t,a){var e={},o="";if(0==a)if(o=this.tableDataTop[0],this.tableDataTop[0]=this.tableData[0],this.tableData[0]=o,0==this.selectList){e.book_items=[],e.book_items.push(this.tableDataTop[0]);for(var s=0;s<this.tableDataList.length;s++)e.book_items.push(this.tableDataList[s])}else e.top_book=this.tableDataTop[0],e.book_items=this.tableDataList;else{o=this.tableData[0],this.tableData[0]=this.tableDataList[t];for(s=t;s>0;s--)this.tableDataList[s]=this.tableDataList[s-1];if(0==this.selectList?this.tableDataList[0]=o:(this.tableDataList[0]=this.tableDataTop[0],this.tableDataTop[0]=o),0==this.selectList){e.book_items=[],e.book_items.push(this.tableDataTop[0]);for(s=0;s<this.tableDataList.length;s++)e.book_items.push(this.tableDataList[s])}else e.top_book=this.tableDataTop[0],e.book_items=this.tableDataList}console.log(e),this.sendList(e)},sendList:function(t){var a=this;axios({method:"POST",url:"./api/sendList",data:{contant:t,index:this.selectList}}).then(function(t){a.getOnRack(a.selectList)})},getOnRack:function(t){var a=this;this.tableDataTop=[],this.tableDataList=[],this.tableData=[],this.bookContantList=[],axios({method:"POST",url:"./api/getOnRack",data:{index:t}}).then(function(e){console.log(e.data),e=e.data.rackData;var o="(";0!=t&&(o+=e.top_book.id.toString(),a.bookContantList.push(e.top_book.id),o+=",");for(var s=0;s<e.book_items.length;s++)o+=e.book_items[s].id.toString(),a.bookContantList.push(e.book_items[s].id),s<e.book_items.length-1&&(o+=",");o+=")",a.bookIdList=o,console.log(o),a.getOnRackItem(o,a.current,"")})},getOnRackItem:function(t,a,e){var o=this;console.log("getOnRackItem",t),axios({method:"POST",url:"./api/getOnRackItem",data:{strBookId:t,pageNumber:a,searchTxt:e}}).then(function(t){console.log(t.data.rackData),t=t.data.rackData,console.log("bookContantList",o.bookContantList);for(var a=0;a<o.bookContantList.length;a++)for(var e=0;e<t.rackData.length;e++)0==a?o.bookContantList[a]==t.rackData[e].id&&(o.tableDataTop=[t.rackData[e]]):o.bookContantList[a]==t.rackData[e].id&&o.tableDataList.push(t.rackData[e]);o.tableData=t.tableData,o.total=t.allPageNumber})},handleClick:function(t){this.getOnRack(this.bookIdList,t,"")}}},H={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"listName"},[t._v("书籍排行")]),t._v(" "),e("div",{staticClass:"functionArea"},[e("mu-text-field",{staticClass:"searchTxted",attrs:{hintText:"请输入书籍名或作者名"},model:{value:t.searchTxt,callback:function(a){t.searchTxt=a},expression:"searchTxt"}}),t._v(" "),e("mu-raised-button",{staticClass:"demo-raised-button",attrs:{label:"查询",backgroundColor:"#00bfa5"},on:{click:function(a){t.getOnRackItem(t.bookIdList,t.current,t.searchTxt)}}}),t._v(" "),e("mu-select-field",{staticStyle:{float:"right","margin-right":"20px"},model:{value:t.selectList,callback:function(a){t.selectList=a},expression:"selectList"}},t._l(t.listContent,function(t,a){return e("mu-menu-item",{key:a,attrs:{value:a,title:t}})}))],1),t._v(" "),e("div",{staticClass:"Booktable"},[e("mu-table",{attrs:{fixedFooter:!1,fixedHeader:!0,height:t.height,enableSelectAll:!1,multiSelectable:!1,selectable:!1,showCheckbox:!1}},[e("mu-thead",{attrs:{slot:"header"},slot:"header"},[e("mu-tr",[e("mu-th",{attrs:{tooltip:"书名"}},[t._v("书名")]),t._v(" "),e("mu-th",{attrs:{tooltip:"作者"}},[t._v("作者")]),t._v(" "),e("mu-th",{attrs:{tooltip:"封面"}},[t._v("封面")]),t._v(" "),e("mu-th",{attrs:{tooltip:"类型"}},[t._v("类型")]),t._v(" "),e("mu-th",{attrs:{tooltip:"简介"}},[t._v("简介")]),t._v(" "),e("mu-th",{attrs:{tooltip:"操作"}},[t._v("操作")])],1)],1),t._v(" "),e("mu-tbody",[t._l(t.tableDataTop,function(a,o){return e("mu-tr",{key:o,attrs:{selected:a.selected}},[e("mu-td",{staticStyle:{"white-space":"normal"}},[e("a",{attrs:{href:"#/bookDetails/"+a.id}},[t._v(t._s(a.book_name))])]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[t._v(t._s(a.author))]),t._v(" "),e("mu-td",[e("img",{staticStyle:{width:"40px","vertical-align":"middle"},attrs:{src:"http://read.beluga.ai/api/static/images/cover/"+a.cover}})]),t._v(" "),e("mu-td",[t._v(t._s(t.bookType[a.book_type]))]),t._v(" "),e("mu-td",{staticStyle:{overflow:"hidden"}},[e("el-tooltip",{attrs:{placement:"top"}},[e("div",{staticStyle:{width:"260px"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(a.book_describe))]),t._v(" "),e("p",{staticStyle:{color:"#ff4081"}},[t._v("查看内容")])])],1),t._v(" "),e("mu-td",[e("button",{staticClass:"bookListButton",on:{click:function(a){t.underRack(o,0)}}},[t._v("下架")])])],1)}),t._v(" "),t._l(t.tableDataList,function(a,o){return e("mu-tr",{key:o,attrs:{selected:a.selected}},[e("mu-td",{staticStyle:{"white-space":"normal"}},[e("a",{attrs:{href:"#/bookDetails/"+a.id}},[t._v(t._s(a.book_name))])]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[t._v(t._s(a.author))]),t._v(" "),e("mu-td",[e("img",{staticStyle:{width:"40px","vertical-align":"middle"},attrs:{src:"http://read.beluga.ai/api/static/images/cover/"+a.cover}})]),t._v(" "),e("mu-td",[t._v(t._s(t.bookType[a.book_type]))]),t._v(" "),e("mu-td",{staticStyle:{overflow:"hidden"}},[e("el-tooltip",{attrs:{placement:"top"}},[e("div",{staticStyle:{width:"260px"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(a.book_describe))]),t._v(" "),e("p",{staticStyle:{color:"#ff4081"}},[t._v("查看内容")])])],1),t._v(" "),e("mu-td",[e("button",{staticClass:"bookListButton",on:{click:function(a){t.underRack(o,1)}}},[t._v("下架")])])],1)}),t._v(" "),t._l(t.tableData,function(a,o){return e("mu-tr",{key:o,attrs:{selected:a.selected}},[e("mu-td",{staticStyle:{"white-space":"normal"}},[e("a",{attrs:{href:"#/bookDetails/"+a.id}},[t._v(t._s(a.book_name))])]),t._v(" "),e("mu-td",{staticStyle:{"white-space":"normal"}},[t._v(t._s(a.author))]),t._v(" "),e("mu-td",[e("img",{staticStyle:{width:"40px","vertical-align":"middle"},attrs:{src:"http://read.beluga.ai/api/static/images/cover/"+a.cover}})]),t._v(" "),e("mu-td",[t._v(t._s(t.bookType[a.book_type]))]),t._v(" "),e("mu-td",{staticStyle:{overflow:"hidden"}},[e("el-tooltip",{attrs:{placement:"top"}},[e("div",{staticStyle:{width:"260px"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(a.book_describe))]),t._v(" "),e("p",{staticStyle:{color:"#ff4081"}},[t._v("查看内容")])])],1),t._v(" "),e("mu-td",[e("button",{staticClass:"bookListButton",on:{click:function(a){t.onRack(o)}}},[t._v("上架")])])],1)})],2)],1),t._v(" "),e("mu-pagination",{staticStyle:{"padding-bottom":"20px"},attrs:{total:t.total,current:t.current},on:{pageChange:t.handleClick}})],1)])},staticRenderFns:[]},j=e("VU/8")(V,H,!1,function(t){e("igvu")},null,null).exports,z={data:function(){return{bookType:["仙剑","玄幻","悬疑","奇幻","军事","历史","竞技","科幻","校园","社会","其它"],searchTxt:"",tableData:[{time:"2018/3/3",dau:32,pv:21,dingyue:1,chongzhi:0,moneyBuy:0,allTime:632},{time:"2018/3/4",dau:51,pv:14,dingyue:1,chongzhi:0,moneyBuy:0,allTime:669},{time:"2018/3/5",dau:12,pv:21,dingyue:1,chongzhi:0,moneyBuy:0,allTime:753},{time:"2018/3/6",dau:22,pv:11,dingyue:1,chongzhi:3,moneyBuy:60,allTime:542},{time:"2018/3/7",dau:48,pv:70,dingyue:1,chongzhi:0,moneyBuy:0,allTime:451}],height:"500px",total:50,current:1,controPageKind:1}},mounted:function(){},methods:{handleClick:function(t){switch(this.controPageKind){case 1:this.reqAllBookInfo(t);break;case 2:this.distinctBookInfo(0,t);break;case 3:this.distinctBookInfo(1,t);break;case 4:this.searchBookInfo(this.searchTxt,t);break;default:console.log("出错")}},reqAllBookInfo:function(t){var a=this;this.controPageKind=1;var e=10*(t-1);axios({method:"POST",url:"./api/getBookInfo",data:{pageNumber:e}}).then(function(t){t=t.data,a.tableData=t.tableData,a.total=t.allPageNum[0].allNumber})},distinctBookInfo:function(t,a){var e=this;this.controPageKind=t?3:2;var o=10*(a-1);axios({method:"POST",url:"./api/distinctBookInfo",data:{is_show:t,pageNumber:o}}).then(function(t){t=t.data,e.tableData=t.tableData,e.total=t.allPageNum[0].allNumber})},searchBookInfo:function(t,a){var e=this;this.controPageKind=4;var o=10*(a-1);axios({method:"POST",url:"./api/searchBookInfo",data:{field:t,pageNumber:o}}).then(function(t){t=t.data,e.tableData=t.tableData,e.total=t.allPageNum[0].allNumber})},changeShow:function(t){var a=this,e=this.tableData[t].id,o=this.tableData[t].is_show;o=1==o?0:1,axios({method:"POST",url:"./api/changeShow",data:{id:e,is_show:o}}).then(function(e){(e=e.data).statue?a.tableData[t].is_show=!a.tableData[t].is_show:alert("改变上架状态失败")})},deleteBook:function(t){var a=this;confirm("即将删除书籍"+this.tableData[t].book_name+"及其所有章节，确认继续操作？")&&axios({method:"POST",url:"./api/deleteBook",data:{id:this.tableData[t].id}}).then(function(e){(e=e.data).statue?(alert("删除书籍"+a.tableData[t].book_name+"成功"),a.reqAllBookInfo(a.current)):alert("删除书籍"+a.tableData[t].book_name+"失败")})}}},W={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"listName"},[t._v("书籍列表")]),t._v(" "),e("div",{staticClass:"functionArea"}),t._v(" "),e("div",{staticClass:"Booktable"},[e("mu-table",{attrs:{fixedFooter:!1,fixedHeader:!0,height:t.height,enableSelectAll:!1,multiSelectable:!1,selectable:!1,showCheckbox:!1}},[e("mu-thead",{attrs:{slot:"header"},slot:"header"},[e("mu-tr",[e("mu-th",{attrs:{tooltip:"时间"}},[t._v("时间")]),t._v(" "),e("mu-th",{attrs:{tooltip:"DAU"}},[t._v("DAU")]),t._v(" "),e("mu-th",{attrs:{tooltip:"PV"}},[t._v("PV")]),t._v(" "),e("mu-th",{attrs:{tooltip:"新增订阅"}},[t._v("新增订阅")]),t._v(" "),e("mu-th",{attrs:{tooltip:"充值量"}},[t._v("充值量")]),t._v(" "),e("mu-th",{attrs:{tooltip:"购买金额"}},[t._v("购买金额")]),t._v(" "),e("mu-th",{attrs:{tooltip:"总时长"}},[t._v("总时长")])],1)],1),t._v(" "),e("mu-tbody",t._l(t.tableData,function(a,o){return e("mu-tr",{key:o,attrs:{selected:a.selected}},[e("mu-td",[t._v(t._s(a.time))]),t._v(" "),e("mu-td",[t._v(t._s(a.dau))]),t._v(" "),e("mu-td",[t._v(t._s(a.pv))]),t._v(" "),e("mu-td",[t._v(t._s(a.dingyue))]),t._v(" "),e("mu-td",[t._v(t._s(a.chongzhi))]),t._v(" "),e("mu-td",[t._v(t._s(a.moneyBuy))]),t._v(" "),e("mu-td",[t._v(t._s(a.allTime))])],1)}))],1),t._v(" "),e("mu-pagination",{staticStyle:{"padding-bottom":"20px"},attrs:{total:t.total,current:t.current},on:{pageChange:t.handleClick}})],1)])},staticRenderFns:[]},Y=e("VU/8")(z,W,!1,function(t){e("ykPJ")},null,null).exports;m.default.use(_.a);var J=new _.a({routes:[{path:"/login",name:"login",component:E},{path:"/",name:"rootView",component:f,beforeEnter:function(t,a,e){"haveLogin"==sessionStorage.getItem("html5_test_login")?e():e({path:"/login"})},children:[{path:"bookList",name:"bookList",component:C},{path:"bookUpload/:bookId",name:"bookUpload",component:D},{path:"bookDetails/:bookId",name:"bookDetails",component:A},{path:"chapterContant/:bookId/:chapterId",name:"chapterContant",component:M},{path:"bookStatistic",name:"bookStatistic",component:S},{path:"commentManage",name:"commentManage",component:N},{path:"readerData",name:"readerData",component:q},{path:"sortManage",name:"sortManage",component:j},{path:"dataShow",name:"dataShow",component:Y}]}]}),G=e("u64Q"),Q=e.n(G),X=(e("E51W"),e("thDu"),e("mtWM")),Z=e.n(X);m.default.use(Q.a),m.default.use(d.a),m.default.use(u.a),m.default.use(r.a),m.default.use(n.a),m.default.use(s.a),m.default.config.productionTip=!1,window.axios=Z.a,new m.default({el:"#app",router:J,template:"<App/>",components:{App:p}})},RWjY:function(t,a){},"Rj+v":function(t,a){},TWiG:function(t,a){},"X+ky":function(t,a){},Y1pN:function(t,a){},Yq4J:function(t,a){},g20g:function(t,a){},igvu:function(t,a){},jAzQ:function(t,a){},jpBv:function(t,a){},thDu:function(t,a){},y6Ab:function(t,a){},ykPJ:function(t,a){},ylrw:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.e199e135b081bbd36c95.js.map